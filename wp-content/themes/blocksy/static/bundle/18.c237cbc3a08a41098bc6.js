(window.blocksyJsonP=window.blocksyJsonP||[]).push([[18],{59:function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.r(e);var c=function(t){return t&&r(t.querySelectorAll(".ct-image-container.ct-lazy")).map(function(t){t.querySelector("img")&&(t.querySelector("img").setAttribute("src",t.querySelector("img").dataset.lazy),t.querySelector("img").dataset.lazySet&&t.querySelector("img").setAttribute("srcset",t.querySelector("img").dataset.lazySet),t.classList.remove("ct-lazy"),t.classList.add("ct-lazy-loaded"))})};function a(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,c=!1,a=void 0;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){c=!0,a=t}finally{try{r||null==i.return||i.return()}finally{if(c)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach(function(e){s(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"mount",function(){return d});var u={},f=function(t){return u[t]?new Promise(function(e){e(u[t]),u[t]=u[t].clone()}):new Promise(function(e){return fetch(t).then(function(n){e(n),u[t]=n.clone()})})},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((t=l({el:null,action:null},t)).el&&t.action&&!t.el.classList.contains("ct-loading")){var e=parseInt(t.el.dataset.page,10);if(("prev"!==t.action||1!==e)&&!(t.el.querySelectorAll(".ct-container > a").length<4&&1===e||t.el.dataset.page.indexOf("last")>-1&&"next"===t.action)){t.el.classList.add("ct-loading");var n="prev"===t.action?e-1:e+1;Promise.all([new Promise(function(e){t.el.classList.add("ct-leave-active"),requestAnimationFrame(function(){t.el.classList.remove("ct-leave-active"),t.el.classList.add("ct-leave"),setTimeout(function(){return e()},650)})}),f("".concat(ct_localizations.ajax_url,"?action=blocksy_get_trending_posts&page=").concat(n)).then(function(t){return t.json()})]).then(function(e){var r=o(e,2),i=(r[0],r[1]),l=i.success,s=i.data;if(l){var u=s.posts,f=u.is_last_page,y=u.posts;t.el.dataset.page="".concat(n).concat(f?":last":""),a(t.el.querySelectorAll("a")).map(function(t){return t.remove()}),y.map(function(e){return t.el.insertAdjacentHTML("beforeend",'<a href="'.concat(e.url,'">\n                        ').concat(e.image,'\n                        <h3 class="ct-item-title">\n                         ').concat(e.title,"\n                        </h3>\n                    </a>"))}),setTimeout(function(){t.el.classList.remove("ct-leave"),t.el.classList.add("ct-enter-active"),requestAnimationFrame(function(){t.el.classList.remove("ct-enter-active"),t.el.classList.add("ct-active"),setTimeout(function(){t.el.classList.remove("ct-active"),t.el.classList.remove("ct-loading")},650)})}),c(t.el)}})}}},d=function(t){t.hasListeners||(t.hasListeners=!0,t.querySelector(".ct-arrow-left").addEventListener("click",function(e){e.preventDefault(),y({el:t,action:"prev"})}),t.querySelector(".ct-arrow-right").addEventListener("click",function(e){e.preventDefault(),y({el:t,action:"next"})}))}}}]);